syntax = "proto3";

package stack;

import "github.com/appcelerator/amp/api/rpc/service/service.proto";

service StackService {
  rpc Up (UpRequest) returns (UpReply);
}

message CreateRequest {
  string stack_name = 1;
  string stack_definition = 2;
}

message CreateReply {
  string stack_id = 1;
}

message UpRequest {
  string stack_name = 1;
  string stackfile = 2;
}

message UpReply {
  string stack_id = 1;
}

enum StackState {
  Stopped = 0;
  Starting = 1;
  Running = 2;
  Redeploying = 3;
}

message State {
  StackState value = 1;
}

message Stack {
  string name = 1;
  string id = 2;
  int32 state = 3;
  repeated service.ServiceSpec services = 4;
}

message ServiceIdList {
  repeated string list = 1;
}


