syntax = "proto3";

package service;

service Service {
  rpc Create (ServiceCreateRequest) returns (ServiceCreateResponse) {}
}

message ServiceCreateRequest {
  ServiceSpec service_spec = 1;
}

message ServiceCreateResponse {
  string id = 1;
}

message ServiceSpec {
  string image = 1;
  string name = 2;
  uint64 replicas = 3;
  map<string, string> env = 4;
  map<string, string> labels = 5;
  Ports publish_ports = 6;
  Ports expose_ports = 7;
}

message PortSpec {
  string host_ip = 1;
  string host_port = 2;
  string container_port = 3;
  string protocol = 4;
}

message Ports {
  repeated PortSpec port_specs = 1;
}
