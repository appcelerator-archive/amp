syntax = "proto3";

package service;

service Service {
  rpc Create (ServiceCreateRequest) returns (ServiceCreateResponse) {}
}

message ServiceCreateRequest {
  ServiceSpec service_spec = 1;
}

message ServiceCreateResponse {
  string id = 1;
}

message ServiceRemoveRequest {
  string service_id = 1;
}


message ServiceSpec {
  string image = 1;
  string name = 2;
  uint64 replicas = 3;
  map<string, string> env = 4;
  map<string, string> labels = 5;
  repeated PublishSpec publish_specs = 6;
}

message PublishSpec {
  string name = 1;
  string protocol = 2;
  uint32 publish_port = 3;
  uint32 internal_port = 4;
}
